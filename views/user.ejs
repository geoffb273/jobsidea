

<style>
	#experience {
		background: white;
		border: 0.5px solid;
		border-radius: 20px;
		margin-left: 10vw;
		width: 80vw;
	}
	#expTable {
		margin-left: 5vw;
		width: 70vw;
		margin-bottom: 10vh;
	}
	
	#exp-title {
		font-size: max(3vw, 20px);
		font-weight: bold;
		justify-content: center;
	}
	
	#edit-experience {
		position: absolute;
		right: 10px;
		top: 0;
		color: white;
		background: black;
		border-radius: 20px;
		font-size: 14px;
	}
	
	
	@media only screen and (max-width: 700px) {
		#experience {
			margin-left: 0;
			width: 98vw;
		}
		#expTable {
			width: 88vw;
		}
	}
	
</style>

<body>



<div id="experience">
	<div style="position:relative">
		<p id="exp-title"><u>Experience</u></p>
		<%if(own && own == true) { %>
			<button id="edit-experience" onclick='editExpPage()'>Edit Experience</button>
		<% } %> 
	</div>
	<table id="expTable"></table>
</div>


<script>
	var username = '<%- username%>'
	var experienceElement = document.getElementById("experience-div")
	var experiences = {};
	var types = [];
	
	var editExpPage = function() {
		window.location.href = "edit-experience/" + username
	}
	
	var makeExperience = function() {
		var expTable = document.getElementById("expTable")
		$.get("/experience/" + username, function(data) {
			for(var rest in data) {
				var length = expTable.length
				var r = expTable.insertRow(length)
				r.className = 'row-top'
				var c = r.insertCell(0)
				r.insertCell(1)
				r.insertCell(2)
				c.innerHTML = '<u style="font-size:max(1.45vw, 16px)">' + rest + '</u>'
				var exp = data[rest]
				for (var i = 0; i < exp.length; i++) {
					var job = exp[i]
					var r1 = expTable.insertRow(length)
					var c1 = r1.insertCell(0)
					c1.innerHTML = '<b>' + job.role + '</b>'
					var c2 = r1.insertCell(1)
					c2.style.textAlign = 'center'
					c2.innerHTML = job.description
					var cEnd = r1.insertCell(2)
					cEnd.className = "right"
					cEnd.innerHTML = job.time
				}
			}
		});
	}
	
	makeExperience();
	
	
</script>

</body>